<form [formGroup]="productForm" (ngSubmit)="onSubmit()">

  <div class="card form-card">
    
    <h1 class="card-title">
      {{ isEditMode ? 'Editar Producto' : 'Crear Nuevo Producto' }}
    </h1>

    <div class="form-group">
      <label for="nombre">Nombre</label>
      <input id="nombre" type="text" class="input" formControlName="nombre">
      
      <div *ngIf="productForm.get('nombre')?.invalid && productForm.get('nombre')?.touched" class="text-danger">
        El nombre es obligatorio.
      </div>
    </div>

    <div class="form-group">
      <label for="descripcion">Descripción</label>
      <textarea id="descripcion" class="input" formControlName="descripcion" rows="3"></textarea>
    </div>

    <div class="form-grid">
      <div class="form-group">
        <label for="precio">Precio</label>
        <input id="precio" type="number" class="input" formControlName="precio">
        <div *ngIf="productForm.get('precio')?.invalid && productForm.get('precio')?.touched" class="text-danger">
          El precio debe ser 0 o más.
        </div>
      </div>

      <div class="form-group">
        <label for="stock">Stock</label>
        <input id="stock" type="number" class="input" formControlName="stock">
        <div *ngIf="productForm.get('stock')?.invalid && productForm.get('stock')?.touched" class="text-danger">
          El stock debe ser 0 o más.
        </div>
      </div>
    </div>
    
    <div class="form-group">
      <label for="categoriaId">ID de Categoría</label>
      <input id="categoriaId" type="number" class="input" formControlName="categoriaId">
    </div>

    <div class="form-actions">
      <button type="button" class="btn btn-outline" [routerLink]="['/productos']">
        Cancelar
      </button>
      
      <button type="submit" class="btn btn-primary" [disabled]="productForm.invalid">
        {{ isEditMode ? 'Guardar Cambios' : 'Crear Producto' }}
      </button>
    </div>

  </div>
</form>